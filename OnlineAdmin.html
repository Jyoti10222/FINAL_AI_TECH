<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Batch Admin - AI-TECH PRO</title>
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#137fec",
                        "primary-dark": "#0f65bd",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101922",
                        "card-light": "#ffffff",
                        "card-dark": "#1a2632",
                        "border-light": "#e2e8f0",
                        "border-dark": "#2d3b4a",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #334155;
            border-radius: 20px;
        }
    </style>
</head>

<body class="bg-background-dark text-slate-100 font-display min-h-screen">
    <!-- Header -->
    <nav class="sticky top-0 z-50 w-full bg-card-dark border-b border-border-dark shadow-lg">
        <div class="px-6 lg:px-10 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo & Brand -->
                <div class="flex items-center gap-4">
                    <div class="size-10 text-primary flex items-center justify-center">
                        <span class="material-symbols-outlined text-3xl">admin_panel_settings</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold tracking-tight text-white">Online Batch Admin</h1>
                        <p class="text-sm text-slate-400">Manage batches, courses & requests</p>
                    </div>
                </div>
                <!-- Actions -->
                <div class="flex items-center gap-3">
                    <a href="Online.html" target="_blank"
                        class="flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg font-semibold transition-all">
                        <span class="material-symbols-outlined text-[18px]">open_in_new</span>
                        View Live Page
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-10 py-6 space-y-6">
        <!-- Statistics Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="bg-card-dark rounded-xl border border-border-dark p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-slate-400">Total Courses</p>
                        <p id="stat-courses" class="text-2xl font-bold text-white">0</p>
                    </div>
                    <span class="material-symbols-outlined text-blue-500 text-3xl">menu_book</span>
                </div>
            </div>
            <div class="bg-card-dark rounded-xl border border-border-dark p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-slate-400">Total Batches</p>
                        <p id="stat-batches" class="text-2xl font-bold text-white">0</p>
                    </div>
                    <span class="material-symbols-outlined text-green-500 text-3xl">groups</span>
                </div>
            </div>
            <div class="bg-card-dark rounded-xl border border-border-dark p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-slate-400">Access Fee</p>
                        <p id="stat-fee" class="text-2xl font-bold text-white">₹0</p>
                    </div>
                    <span class="material-symbols-outlined text-orange-500 text-3xl">payments</span>
                </div>
            </div>
            <div class="bg-card-dark rounded-xl border border-border-dark p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-slate-400">Pending Requests</p>
                        <p id="stat-requests" class="text-2xl font-bold text-white">0</p>
                    </div>
                    <span class="material-symbols-outlined text-purple-500 text-3xl">pending_actions</span>
                </div>
            </div>
        </div>

        <!-- Access Fee Editor -->
        <div class="bg-gradient-to-r from-primary to-blue-600 rounded-xl p-6 shadow-lg">
            <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                <div class="flex items-center gap-4 flex-1">
                    <div class="size-14 rounded-xl bg-slate-900/20 backdrop-blur flex items-center justify-center">
                        <span class="material-symbols-outlined text-white text-3xl">all_inclusive</span>
                    </div>
                    <div class="flex-1 space-y-2">
                        <input type="text" id="fee-title" placeholder="Pass Title"
                            class="w-full bg-slate-900/10 border border-white/20 rounded-lg px-3 py-2 text-white font-bold placeholder-white/60 focus:outline-none focus:border-white/40">
                        <input type="text" id="fee-description" placeholder="Description"
                            class="w-full bg-slate-900/10 border border-white/20 rounded-lg px-3 py-2 text-white/80 text-sm placeholder-white/50 focus:outline-none focus:border-white/40">
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-right">
                        <div class="flex items-baseline gap-2">
                            <span class="text-white/80 text-sm">₹</span>
                            <input type="number" id="fee-price" placeholder="999"
                                class="w-24 bg-slate-900/10 border border-white/20 rounded-lg px-2 py-1 text-3xl font-black text-white text-right focus:outline-none focus:border-white/40">
                            <span class="text-white/80 text-sm">/</span>
                            <select id="fee-period" title="Subscription period"
                                class="bg-slate-900/10 border border-white/20 rounded-lg px-2 py-1 text-white text-sm focus:outline-none focus:border-white/40">
                                <option value="month">month</option>
                                <option value="year">year</option>
                                <option value="quarter">quarter</option>
                            </select>
                        </div>
                    </div>
                    <button onclick="saveAccessFee()"
                        class="px-6 py-3 bg-slate-900 text-primary rounded-lg font-bold hover:bg-slate-900/90 transition-colors shadow-lg flex items-center gap-2">
                        <span class="material-symbols-outlined text-[18px]">save</span>
                        Save
                    </button>
                </div>
            </div>
        </div>

        <!-- Batch Schedule Management -->
        <div class="bg-card-dark rounded-xl border border-border-dark overflow-hidden">
            <div class="px-6 py-4 border-b border-border-dark flex items-center justify-between">
                <h2 class="text-lg font-bold flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">calendar_month</span>
                    Batch Schedule
                </h2>
                <button onclick="showAddBatchModal()"
                    class="flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg font-semibold transition-all">
                    <span class="material-symbols-outlined text-[18px]">add</span>
                    Add Batch
                </button>
            </div>
            <div class="p-6">
                <!-- Calendar Header -->
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold">Week View</h3>
                    <div class="flex items-center gap-2">
                        <button class="p-2 hover:bg-slate-700 rounded-lg transition-colors">
                            <span class="material-symbols-outlined">chevron_left</span>
                        </button>
                        <button class="px-4 py-2 hover:bg-slate-700 rounded-lg font-semibold transition-colors">
                            Today
                        </button>
                        <button class="p-2 hover:bg-slate-700 rounded-lg transition-colors">
                            <span class="material-symbols-outlined">chevron_right</span>
                        </button>
                    </div>
                </div>
                <!-- Batches Grid -->
                <div id="batches-container" class="space-y-4">
                    <!-- Batches will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Course Management -->
        <div class="bg-card-dark rounded-xl border border-border-dark overflow-hidden">
            <div class="px-6 py-4 border-b border-border-dark flex items-center justify-between">
                <h2 class="text-lg font-bold flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">menu_book</span>
                    Course Management
                </h2>
                <button onclick="showAddCourseModal()"
                    class="flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg font-semibold transition-all">
                    <span class="material-symbols-outlined text-[18px]">add</span>
                    Add Course
                </button>
            </div>
            <div id="courses-container" class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Courses will be loaded here -->
            </div>
        </div>

        <!-- Student Enrollments - Approval Section -->
        <div class="bg-card-dark rounded-xl border border-border-dark overflow-hidden">
            <div class="px-6 py-4 border-b border-border-dark flex items-center justify-between">
                <h2 class="text-lg font-bold flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">how_to_reg</span>
                    Student Enrollments
                </h2>
                <div class="flex items-center gap-3">
                    <select id="enrollment-filter" onchange="filterEnrollments()" title="Filter enrollments by status"
                        class="px-3 py-1.5 bg-slate-800 border border-slate-600 rounded-lg text-sm text-white focus:border-primary focus:outline-none">
                        <option value="all">All Status</option>
                        <option value="Pending" selected>Pending</option>
                        <option value="Approved">Approved</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                    <button onclick="refreshEnrollments()"
                        class="text-sm text-primary hover:underline flex items-center gap-1">
                        <span class="material-symbols-outlined text-[16px]">refresh</span>
                        Refresh
                    </button>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-slate-800 border-b border-border-dark">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Student</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Contact</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Course/Batch
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Enrolled At
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Status</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="enrollments-container" class="divide-y divide-border-dark">
                        <tr>
                            <td colspan="6" class="px-4 py-8 text-center text-slate-400">
                                Loading enrollments...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Custom Batch Requests -->
        <div class="bg-card-dark rounded-xl border border-border-dark overflow-hidden">
            <div class="px-6 py-4 border-b border-border-dark flex items-center justify-between">
                <h2 class="text-lg font-bold flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">request_quote</span>
                    Custom Batch Requests
                </h2>
                <button onclick="refreshRequests()"
                    class="text-sm text-primary hover:underline flex items-center gap-1">
                    <span class="material-symbols-outlined text-[16px]">refresh</span>
                    Refresh
                </button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-slate-800 border-b border-border-dark">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Student</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Contact</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Course</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Time</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Size</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Date</th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="requests-container" class="divide-y divide-border-dark">
                        <tr>
                            <td colspan="7" class="px-4 py-8 text-center text-slate-400">
                                No pending requests
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- Add Batch Modal -->
    <div id="addBatchModal"
        class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-card-dark rounded-2xl shadow-2xl max-w-md w-full p-6 border border-border-dark">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-white">Add New Batch</h3>
                <button onclick="closeAddBatchModal()" class="text-slate-400 hover:text-white">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-slate-300 mb-1">Course</label>
                    <select id="batch-course" title="Select Course for Batch"
                        class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                        <option value="">Select Course</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-slate-300 mb-1">Faculty Name</label>
                    <input type="text" id="batch-faculty" placeholder="Enter faculty name"
                        class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Day</label>
                        <select id="batch-day" title="Select Day of Week"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                            <option value="Mon">Monday</option>
                            <option value="Tue">Tuesday</option>
                            <option value="Wed">Wednesday</option>
                            <option value="Thu">Thursday</option>
                            <option value="Fri">Friday</option>
                            <option value="Sat">Saturday</option>
                            <option value="Sun">Sunday</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Duration (hrs)</label>
                        <input type="number" id="batch-duration" value="2" step="0.5"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Start Time</label>
                        <input type="time" id="batch-start"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">End Time</label>
                        <input type="time" id="batch-end"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                </div>
            </div>
            <div class="flex gap-3 mt-6">
                <button onclick="closeAddBatchModal()"
                    class="flex-1 px-4 py-2.5 rounded-lg border border-slate-600 text-slate-300 font-semibold hover:bg-slate-700 transition-colors">
                    Cancel
                </button>
                <button onclick="addBatch()"
                    class="flex-1 px-4 py-2.5 rounded-lg bg-green-600 hover:bg-green-500 text-white font-semibold transition-colors">
                    Add Batch
                </button>
            </div>
        </div>
    </div>

    <!-- Add Course Modal -->
    <div id="addCourseModal"
        class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-card-dark rounded-2xl shadow-2xl max-w-md w-full p-6 border border-border-dark">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-white">Add New Course</h3>
                <button onclick="closeAddCourseModal()" class="text-slate-400 hover:text-white">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-slate-300 mb-1">Course Name</label>
                    <input type="text" id="course-name" placeholder="e.g., Java Full Stack"
                        class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Price (₹)</label>
                        <input type="number" id="course-price" value="5000"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Duration</label>
                        <input type="text" id="course-duration" value="6 Months"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Icon</label>
                        <input type="text" id="course-icon" value="code" placeholder="Material icon name"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-slate-300 mb-1">Color</label>
                        <select id="course-color"
                            class="w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white focus:border-primary focus:outline-none">
                            <option value="blue">Blue</option>
                            <option value="orange">Orange</option>
                            <option value="green">Green</option>
                            <option value="purple">Purple</option>
                            <option value="red">Red</option>
                            <option value="yellow">Yellow</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="flex gap-3 mt-6">
                <button onclick="closeAddCourseModal()"
                    class="flex-1 px-4 py-2.5 rounded-lg border border-slate-600 text-slate-300 font-semibold hover:bg-slate-700 transition-colors">
                    Cancel
                </button>
                <button onclick="addCourse()"
                    class="flex-1 px-4 py-2.5 rounded-lg bg-green-600 hover:bg-green-500 text-white font-semibold transition-colors">
                    Add Course
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <script src="js/online-admin.js"></script>
</body>

</html>
