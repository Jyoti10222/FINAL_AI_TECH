<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Forgot Password - Tech-Pro AI</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3b82f6", // blue-500
                        "primary-hover": "#2563eb", // blue-600
                        "dark-bg": "#0f172a", // slate-900
                        "dark-card": "#1e293b", // slate-800
                        "dark-surface": "#334155", // slate-700
                    },
                    fontFamily: {
                        sans: ["Inter", "sans-serif"]
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    },
                    animation: {
                        blob: "blob 7s infinite",
                    },
                    keyframes: {
                        blob: {
                            "0%": { transform: "translate(0px, 0px) scale(1)" },
                            "33%": { transform: "translate(30px, -50px) scale(1.1)" },
                            "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
                            "100%": { transform: "translate(0px, 0px) scale(1)" },
                        },
                    },
                },
            },
        }
    </script>
</head>

<body
    class="bg-slate-50 dark:bg-dark-bg text-slate-900 dark:text-slate-100 transition-colors duration-200 antialiased selection:bg-primary/20 selection:text-primary">
    <div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden">
        <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
            <div
                class="absolute -top-[10%] left-[20%] w-[500px] h-[500px] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-[100px] mix-blend-multiply dark:mix-blend-screen animate-blob">
            </div>
            <div
                class="absolute top-[20%] right-[20%] w-[400px] h-[400px] bg-purple-400/20 dark:bg-indigo-600/10 rounded-full blur-[100px] mix-blend-multiply dark:mix-blend-screen animate-blob animation-delay-2000">
            </div>
        </div>

        <main class="flex-1 flex flex-col justify-center py-12 relative z-10">
            <div class="mx-auto w-full max-w-md px-4 sm:px-6">
                <!-- Logo -->
                <div class="text-center mb-8">
                    <a class="inline-flex items-center gap-2 group" href="A1Homepage.html">
                        <div
                            class="size-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:shadow-blue-500/30 transition-all">
                            <span class="material-symbols-outlined">auto_awesome</span>
                        </div>
                        <h2
                            class="text-2xl font-bold tracking-tight text-slate-900 dark:text-white group-hover:text-primary transition-colors">
                            TECH-PRO AI
                        </h2>
                    </a>
                </div>

                <div class="text-center mb-10">
                    <h1
                        class="text-3xl font-black tracking-tight text-slate-900 dark:text-white sm:text-4xl mb-3 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-400">
                        Forgot password?
                    </h1>
                    <p class="text-lg text-slate-600 dark:text-slate-400 max-w-xl mx-auto">
                        No worries, we'll send you reset instructions.
                    </p>
                </div>

                <div
                    class="bg-white dark:bg-dark-card rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50 border border-slate-100 dark:border-slate-700 overflow-hidden relative">
                    <div class="p-8 sm:p-10 space-y-8">
                        <div class="space-y-5">
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300"
                                    for="email">Email Address</label>
                                <div class="relative group">
                                    <div
                                        class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none transition-colors group-focus-within:text-blue-500">
                                        <span class="material-symbols-outlined text-slate-400 text-[20px]">mail</span>
                                    </div>
                                    <input
                                        class="block w-full rounded-xl border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:text-white sm:text-sm pl-11 h-12 transition-all focus:bg-white dark:focus:bg-slate-800"
                                        id="email" placeholder="name@company.com" type="email" />
                                </div>
                            </div>
                        </div>

                        <div class="pt-2">
                            <button type="button"
                                class="w-full relative overflow-hidden group flex items-center justify-center rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-4 text-base font-bold text-white transition-all hover:shadow-lg hover:shadow-blue-500/30 disabled:opacity-70 disabled:cursor-not-allowed"
                                onclick="sendResetLink()" id="resetBtn">
                                <span>Send Reset Link</span>
                                <span
                                    class="material-symbols-outlined text-[20px] ml-2 group-hover:translate-x-1 transition-transform">send</span>
                            </button>
                        </div>

                        <div class="text-center">
                            <a href="javascript:history.back()"
                                class="inline-flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors">
                                <span class="material-symbols-outlined text-[16px]">arrow_back</span>
                                Back to login
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        async function sendResetLink() {
            const email = document.getElementById('email').value.trim();
            const btn = document.getElementById('resetBtn');
            const originalText = btn.innerHTML;

            // Simple validation
            if (!email) {
                alert('Please enter your email address.');
                return;
            }

            // UI Loading state
            btn.disabled = true;
            btn.innerHTML = `<span class="animate-spin material-symbols-outlined text-[20px] mr-2">progress_activity</span> Sending...`;

            try {
                const response = await fetch('http://localhost:8080/api/forgot-password', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email })
                });

                const data = await response.json();

                if (data.success) {
                    // Success
                    alert('Success! ' + data.message);
                    // Disable multiple sends
                    btn.innerHTML = `<span class="material-symbols-outlined text-[20px] mr-2">check_circle</span> Email Sent`;
                    btn.classList.remove('from-blue-600', 'to-indigo-600');
                    btn.classList.add('from-green-600', 'to-green-500');
                } else {
                    // Fail
                    alert('Error: ' + data.message);
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }
            } catch (err) {
                console.error('Fetch error:', err);
                alert('Unable to connect to the server.');
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        }
    </script>
</body>

</html>