<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Computing Course Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#135bec",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101622",
                        "surface-dark": "#1a2233",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"]
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display">

    <!-- Header -->
    <header class="bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-white/10 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="bg-primary/10 p-2 rounded-lg">
                        <span class="material-symbols-outlined text-primary text-2xl">cloud</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Cloud Computing Course Admin</h1>
                        <p class="text-sm text-slate-500 dark:text-slate-400">Manage course content and videos</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <a href="AiCC.html" target="_blank"
                        class="px-4 py-2 bg-slate-100 dark:bg-white/5 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-white/10 transition-colors flex items-center gap-2">
                        <span class="material-symbols-outlined text-lg">visibility</span>
                        Preview Page
                    </a>
                    <a href="A9Admin.html"
                        class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
                        <span class="material-symbols-outlined text-lg">dashboard</span>
                        Admin Dashboard
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">

        <!-- Success/Error Messages -->
        <div id="messageContainer" class="mb-6 hidden">
            <div id="messageBox" class="p-4 rounded-lg"></div>
        </div>

        <!-- Tabs -->
        <div class="mb-6 border-b border-slate-200 dark:border-white/10">
            <nav class="flex gap-4">
                <button onclick="switchTab('course')" id="tabCourse"
                    class="tab-btn px-4 py-3 font-medium border-b-2 border-primary text-primary">
                    Course Content
                </button>
                <button onclick="switchTab('video')" id="tabVideo"
                    class="tab-btn px-4 py-3 font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300">
                    Video Management
                </button>
                <button onclick="switchTab('modules')" id="tabModules"
                    class="tab-btn px-4 py-3 font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300">
                    Course Modules
                </button>
            </nav>
        </div>

        <!-- Course Content Tab -->
        <div id="courseTab" class="tab-content">
            <div
                class="bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200 dark:border-white/10">
                <h2 class="text-lg font-bold mb-6 flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">edit_note</span>
                    Course Information
                </h2>

                <form id="courseForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Course Title</label>
                            <input type="text" id="courseTitle"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="Cloud Computing" value="Cloud Computing">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Current Topic</label>
                            <input type="text" id="currentTopic"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="Virtualization" value="Virtualization">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">AI Tutor Name</label>
                        <input type="text" id="tutorName"
                            class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                            placeholder="Sarah (AI Tutor)" value="Sarah (AI Tutor)">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">AI Tutor Avatar URL</label>
                        <input type="url" id="tutorAvatar"
                            class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                            placeholder="https://..."
                            value="https://lh3.googleusercontent.com/aida-public/AB6AXuBm97sI5Wu9X-H9bNTD_7zKgD2N8D3OfhjP9F9sotk29A7R7gC4nu061bPzIv_-u10hRC8XTK0_eSfIRCVEzFXCqHfn7m7GajQzUHH3QAyt4NVTd6mT7OzD58bDwqnkiAp1-Xyhc39SJC025sbZTeziXBRXUPL2UmtqP6wobbcNj745Wg_Maan7CFvuoQOwpdo20Nxipjp7EAnUi9XqrBhvVBVIrdWYj4VVx2nr0i5d2kalhMMQsBo5FOmOW0gtSMdbwHdYXNmzrxKn">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">Current AI Message</label>
                        <textarea id="aiMessage" rows="3"
                            class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                            placeholder="AI message displayed on video">Serverless computing allows you to build and run applications without managing infrastructure.</textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Video Duration (mm:ss)</label>
                            <input type="text" id="videoDuration"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="12:45" value="12:45">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Time Remaining</label>
                            <input type="text" id="timeRemaining"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="14 mins remaining" value="14 mins remaining">
                        </div>
                    </div>

                    <div class="flex justify-end gap-3 pt-4">
                        <button type="button" onclick="resetCourseForm()"
                            class="px-6 py-2.5 bg-slate-100 dark:bg-white/5 rounded-lg font-medium hover:bg-slate-200 dark:hover:bg-white/10 transition-colors">
                            Reset
                        </button>
                        <button type="submit"
                            class="px-6 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
                            <span class="material-symbols-outlined text-lg">save</span>
                            Save Course Info
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Video Management Tab -->
        <div id="videoTab" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                <!-- Video Upload Section -->
                <div
                    class="bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200 dark:border-white/10">
                    <h2 class="text-lg font-bold mb-6 flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">upload_file</span>
                        Upload Video
                    </h2>

                    <form id="videoUploadForm" class="space-y-6">
                        <div class="border-2 border-dashed border-slate-300 dark:border-white/20 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer"
                            id="dropZone">
                            <input type="file" id="videoFile" accept="video/*" class="hidden">
                            <span
                                class="material-symbols-outlined text-6xl text-slate-400 dark:text-slate-500 mb-4 block">cloud_upload</span>
                            <p class="text-sm font-medium mb-2">Drop video file here or click to browse</p>
                            <p class="text-xs text-slate-500">Supports MP4, WebM, AVI (Max 500MB)</p>
                        </div>

                        <div id="uploadProgress" class="hidden">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium">Uploading...</span>
                                <span id="progressPercent" class="text-sm font-bold text-primary">0%</span>
                            </div>
                            <div class="w-full bg-slate-200 dark:bg-white/10 rounded-full h-2">
                                <div id="progressBar" class="bg-primary h-2 rounded-full transition-all duration-300"
                                    style="width: 0%"></div>
                            </div>
                        </div>

                        <div id="uploadedFile"
                            class="hidden bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/30 rounded-lg p-4">
                            <div class="flex items-center gap-3">
                                <span
                                    class="material-symbols-outlined text-green-600 dark:text-green-400">check_circle</span>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-green-800 dark:text-green-300">Video uploaded
                                        successfully!</p>
                                    <p id="uploadedFileName" class="text-xs text-green-600 dark:text-green-400 mt-1">
                                    </p>
                                </div>
                            </div>
                        </div>

                        <button type="submit"
                            class="w-full px-6 py-3 bg-primary text-white rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center justify-center gap-2">
                            <span class="material-symbols-outlined">upload</span>
                            Upload Video to Server
                        </button>
                    </form>
                </div>

                <!-- YouTube Video Section -->
                <div
                    class="bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200 dark:border-white/10">
                    <h2 class="text-lg font-bold mb-6 flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">video_library</span>
                        YouTube Video
                    </h2>

                    <form id="youtubeForm" class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">YouTube Video ID</label>
                            <input type="text" id="youtubeId"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="s_qQfOitQIs" value="s_qQfOitQIs">
                            <p class="text-xs text-slate-500 mt-2">Enter the YouTube video ID (the part after "v=" in
                                the URL)</p>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold mb-2">Video Background Image URL</label>
                            <input type="url" id="videoBackground"
                                class="w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border border-slate-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-primary outline-none"
                                placeholder="https://..."
                                value="https://lh3.googleusercontent.com/aida-public/AB6AXuBfp4ylADa58d_Dh-XYy3TCjyhn0H23sLmDA39CvpCb2xc-aaKN85KmOKKvOcvhiUSCsDSZDFErOT8axsCcuCNe12FXQoIDajzNuhuFdEWcnw2qYT3vrlOFVpT04zlr6bE5mqV_jrZa0NB4es4wbYR9oZYgBwQW2R1mVEBzDhTTw4CD-_aO_7aIJb3Wi6b7aKBzkobJoUqvtiSvRJYE48jkULEOOx0bKy8pITq95RvFGxZVoJLoow0RrJcPs35aOM0-482thXbOqObE">
                        </div>

                        <div class="bg-slate-100 dark:bg-background-dark rounded-lg p-4">
                            <p class="text-sm font-semibold mb-2">Preview</p>
                            <div id="videoPreview" class="aspect-video bg-black rounded-lg overflow-hidden">
                                <img id="previewImage" src="" alt="Video preview" class="w-full h-full object-cover">
                            </div>
                        </div>

                        <button type="submit"
                            class="w-full px-6 py-3 bg-primary text-white rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center justify-center gap-2">
                            <span class="material-symbols-outlined">save</span>
                            Save YouTube Video
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Course Modules Tab -->
        <div id="modulesTab" class="tab-content hidden">
            <div
                class="bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200 dark:border-white/10">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-lg font-bold flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">menu_book</span>
                        Course Modules
                    </h2>
                    <button onclick="addModule()"
                        class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
                        <span class="material-symbols-outlined text-lg">add</span>
                        Add Module
                    </button>
                </div>

                <div id="modulesList" class="space-y-4">
                    <!-- Modules will be dynamically added here -->
                </div>

                <div class="flex justify-end gap-3 pt-6 mt-6 border-t border-slate-200 dark:border-white/10">
                    <button type="button" onclick="loadModules()"
                        class="px-6 py-2.5 bg-slate-100 dark:bg-white/5 rounded-lg font-medium hover:bg-slate-200 dark:hover:bg-white/10 transition-colors">
                        Reload
                    </button>
                    <button type="button" onclick="saveModules()"
                        class="px-6 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
                        <span class="material-symbols-outlined text-lg">save</span>
                        Save All Modules
                    </button>
                </div>
            </div>
        </div>

    </main>

    <script>
        const API_BASE = 'http://localhost:8080/api/aicc-course';

        // Tab Switching
        function switchTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('border-primary', 'text-primary');
                el.classList.add('border-transparent', 'text-slate-500');
            });

            // Show selected tab
            document.getElementById(tab + 'Tab').classList.remove('hidden');
            document.getElementById('tab' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.add('border-primary', 'text-primary');
            document.getElementById('tab' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.remove('border-transparent', 'text-slate-500');
        }

        // Show Message
        function showMessage(message, type = 'success') {
            const container = document.getElementById('messageContainer');
            const box = document.getElementById('messageBox');

            container.classList.remove('hidden');
            box.className = `p-4 rounded-lg ${type === 'success' ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/30 text-green-800 dark:text-green-300' : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/30 text-red-800 dark:text-red-300'}`;
            box.textContent = message;

            setTimeout(() => {
                container.classList.add('hidden');
            }, 5000);
        }

        // Course Form
        document.getElementById('courseForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const courseData = {
                courseTitle: document.getElementById('courseTitle').value,
                currentTopic: document.getElementById('currentTopic').value,
                tutorName: document.getElementById('tutorName').value,
                tutorAvatar: document.getElementById('tutorAvatar').value,
                aiMessage: document.getElementById('aiMessage').value,
                videoDuration: document.getElementById('videoDuration').value,
                timeRemaining: document.getElementById('timeRemaining').value
            };

            try {
                const response = await fetch(`${API_BASE}/course-info`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(courseData)
                });

                const result = await response.json();
                if (result.success) {
                    showMessage('Course information saved successfully!', 'success');
                } else {
                    showMessage('Failed to save course information', 'error');
                }
            } catch (error) {
                showMessage('Error connecting to server', 'error');
            }
        });

        function resetCourseForm() {
            document.getElementById('courseForm').reset();
        }

        // Video Upload
        const dropZone = document.getElementById('dropZone');
        const videoFile = document.getElementById('videoFile');

        dropZone.addEventListener('click', () => videoFile.click());

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('border-primary', 'bg-primary/5');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('border-primary', 'bg-primary/5');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('border-primary', 'bg-primary/5');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                videoFile.files = files;
                handleFileSelect(files[0]);
            }
        });

        videoFile.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });

        function handleFileSelect(file) {
            document.getElementById('uploadedFileName').textContent = file.name;
        }

        document.getElementById('videoUploadForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const file = videoFile.files[0];
            if (!file) {
                showMessage('Please select a video file', 'error');
                return;
            }

            const formData = new FormData();
            formData.append('video', file);

            const progressDiv = document.getElementById('uploadProgress');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const uploadedFile = document.getElementById('uploadedFile');

            progressDiv.classList.remove('hidden');
            uploadedFile.classList.add('hidden');

            try {
                const xhr = new XMLHttpRequest();

                xhr.upload.addEventListener('progress', (e) => {
                    if (e.lengthComputable) {
                        const percent = Math.round((e.loaded / e.total) * 100);
                        progressBar.style.width = percent + '%';
                        progressPercent.textContent = percent + '%';
                    }
                });

                xhr.addEventListener('load', () => {
                    if (xhr.status === 200) {
                        progressDiv.classList.add('hidden');
                        uploadedFile.classList.remove('hidden');
                        showMessage('Video uploaded successfully!', 'success');
                    } else {
                        showMessage('Upload failed', 'error');
                    }
                });

                xhr.open('POST', `${API_BASE}/upload-video`);
                xhr.send(formData);

            } catch (error) {
                showMessage('Error uploading video', 'error');
                progressDiv.classList.add('hidden');
            }
        });

        // YouTube Form
        document.getElementById('youtubeForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const videoData = {
                youtubeId: document.getElementById('youtubeId').value,
                backgroundImage: document.getElementById('videoBackground').value
            };

            try {
                const response = await fetch(`${API_BASE}/youtube-video`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(videoData)
                });

                const result = await response.json();
                if (result.success) {
                    showMessage('YouTube video saved successfully!', 'success');
                } else {
                    showMessage('Failed to save YouTube video', 'error');
                }
            } catch (error) {
                showMessage('Error connecting to server', 'error');
            }
        });

        // Update preview when background image changes
        document.getElementById('videoBackground').addEventListener('input', (e) => {
            document.getElementById('previewImage').src = e.target.value;
        });

        // Initialize preview
        document.getElementById('previewImage').src = document.getElementById('videoBackground').value;

        // Modules Management
        let modules = [
            { id: 1, name: '1. Introduction', status: 'completed', locked: false },
            { id: 2, name: '2. Virtualization', status: 'active', locked: false },
            { id: 3, name: '3. Containers & K8s', status: 'locked', locked: true },
            { id: 4, name: '4. Serverless Arch', status: 'locked', locked: true },
            { id: 5, name: '5. Cloud Security', status: 'locked', locked: true }
        ];

        function loadModules() {
            const container = document.getElementById('modulesList');
            container.innerHTML = '';

            modules.forEach((module, index) => {
                const moduleDiv = document.createElement('div');
                moduleDiv.className = 'bg-slate-50 dark:bg-background-dark rounded-lg p-4 border border-slate-200 dark:border-white/10';
                moduleDiv.innerHTML = `
                    <div class="flex items-center gap-4">
                        <span class="material-symbols-outlined text-2xl ${module.status === 'completed' ? 'text-green-500' : module.status === 'active' ? 'text-primary' : 'text-slate-400'}">
                            ${module.status === 'completed' ? 'check_circle' : module.status === 'active' ? 'play_circle' : 'lock'}
                        </span>
                        <div class="flex-1">
                            <input type="text" value="${module.name}" class="w-full px-3 py-2 bg-white dark:bg-surface-dark border border-slate-200 dark:border-white/10 rounded-lg text-sm font-medium" data-index="${index}">
                        </div>
                        <select class="px-3 py-2 bg-white dark:bg-surface-dark border border-slate-200 dark:border-white/10 rounded-lg text-sm" data-index="${index}">
                            <option value="locked" ${module.status === 'locked' ? 'selected' : ''}>Locked</option>
                            <option value="active" ${module.status === 'active' ? 'selected' : ''}>Active</option>
                            <option value="completed" ${module.status === 'completed' ? 'selected' : ''}>Completed</option>
                        </select>
                        <button onclick="deleteModule(${index})" class="p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                    </div>
                `;
                container.appendChild(moduleDiv);
            });
        }

        function addModule() {
            const newModule = {
                id: modules.length + 1,
                name: `${modules.length + 1}. New Module`,
                status: 'locked',
                locked: true
            };
            modules.push(newModule);
            loadModules();
        }

        function deleteModule(index) {
            if (confirm('Are you sure you want to delete this module?')) {
                modules.splice(index, 1);
                loadModules();
            }
        }

        async function saveModules() {
            // Collect updated module data
            const inputs = document.querySelectorAll('#modulesList input[type="text"]');
            const selects = document.querySelectorAll('#modulesList select');

            inputs.forEach((input, index) => {
                modules[index].name = input.value;
            });

            selects.forEach((select, index) => {
                modules[index].status = select.value;
                modules[index].locked = select.value === 'locked';
            });

            try {
                const response = await fetch(`${API_BASE}/modules`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ modules })
                });

                const result = await response.json();
                if (result.success) {
                    showMessage('Modules saved successfully!', 'success');
                } else {
                    showMessage('Failed to save modules', 'error');
                }
            } catch (error) {
                showMessage('Error connecting to server', 'error');
            }
        }

        // Initialize
        loadModules();

        // Load existing data on page load
        window.addEventListener('DOMContentLoaded', async () => {
            try {
                // Load course info
                const response = await fetch(`${API_BASE}/course-info`);
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.data) {
                        document.getElementById('courseTitle').value = data.data.courseTitle || '';
                        document.getElementById('currentTopic').value = data.data.currentTopic || '';
                        document.getElementById('tutorName').value = data.data.tutorName || '';
                        document.getElementById('tutorAvatar').value = data.data.tutorAvatar || '';
                        document.getElementById('aiMessage').value = data.data.aiMessage || '';
                        document.getElementById('videoDuration').value = data.data.videoDuration || '';
                        document.getElementById('timeRemaining').value = data.data.timeRemaining || '';
                    }
                }

                // Load video configuration (YouTube ID and background)
                const videoResponse = await fetch(`${API_BASE}/course-info`);
                if (videoResponse.ok) {
                    const videoData = await videoResponse.json();
                    if (videoData.success && videoData.data) {
                        // Note: The backend stores video info in the same course-info endpoint
                        // We need to create a separate endpoint or store it differently
                        // For now, we'll fetch from a dedicated endpoint
                    }
                }

                // Load modules from backend
                const modulesResponse = await fetch(`${API_BASE}/modules`);
                if (modulesResponse.ok) {
                    const modulesData = await modulesResponse.json();
                    if (modulesData.success && modulesData.data) {
                        modules = modulesData.data;
                        loadModules();
                    }
                }

                console.log('✅ Admin data loaded from backend');
            } catch (error) {
                console.log('⚠️ Using default values:', error);
            }
        });
    </script>

</body>

</html>